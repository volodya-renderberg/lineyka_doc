.. time-log-page:

Time Logs
=========

Атрибуты в task:
----------------

* **open_time**:
    * не имеет значения записывается или нет в бд
    * время открытия задачи, назначается в функции *open*
* **time** - стнет *json* - {юзер: время (итоговое)}
* **full_time** - Время общее всех юзеров

task.log (project-level)
------------------------

* Добавить в :ref:`class-log-page` затраченое время - атрибут ``time``
    * запись при каждом коммите
    * при открытии задачи заполнять атрибут ``task.open_time``
    * при комите записывать разницу в ``commit_log.time`` и обновлять ``task.open_time`` временем коммита.
    * после внесения записи в ``commit_log.time`` суммирование в: ``task.time``, ``task.full_time``, ``artist_log.full_time``

artist_log (studio-level)
-------------------------

.. note:: :ref:`class-log-page` добавить методы для чтения-записи, принимающие объект *artist*.

* **table_name**: ``[nik_name]_tasks_logs``
* **table_columns**: ``[project_name, task_name, full_time, price, start, finish]`` (словарь *studio.artists_logs_keys*)
* запись создаётся при первом выполнении ``task.open`` и далее редактируется:
    * **start** - время создания записи.
    * **full_time** - ссумируется при каждом коммите, ед. измерения секунда.
    * **price** - вносится по принятию задачи.
    * **finish** - вносится по принятию задачи (Время принятия, чтобы не было проблем с оплатой за период).